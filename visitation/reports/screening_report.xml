<?xml version="1.0" encoding="utf-8" ?>
<odoo>
  <data>

    <template id="report_visitor_screening">
      <t t-call="web.html_container">
          <t t-call="web.external_layout">
            <table style="width:100%;font-size:0.8rem">
              <thead>
                <th style="text-align:center;">Time Slot</th>
                <th style="text-align:center;">Bed</th>
                <th style="text-align:center;">Visitor Name</th>
                <th style="text-align:center;">Screening Questions?</th>
                <th style="text-align:center;">Temperature &lt; 100?</th>
                <th style="text-align:center;">Negative Result?</th>
              </thead>
              <t t-foreach="docs.sorted(key=lambda doc: (doc.x_visit_availability_slot_id.x_availability_start_time, doc.x_resident_bed_id))" t-as="visit">
                  <t t-foreach="visit.x_visitor_screening_ids" t-as="visitor">
                    <tr>
                      <td style="border-bottom: 1px solid #495057;text-align:center;">
                        <p t-esc="visit.x_visit_availability_slot_id.x_name" style="padding-top: 30px;"/>
                      </td>
                      <td style="border-bottom: 1px solid #495057;text-align:center;">
                        <p t-esc="visit.x_resident_bed_id.x_name" />
                      </td>
                      <td style="border-bottom: 1px solid #495057;text-align:center;">
                        <p t-esc="visitor.x_name" />
                      </td>
                      <td style="border-bottom: 1px solid #495057;text-align:center;">
                      </td>
                      <td style="border-bottom: 1px solid #495057;text-align:center;">
                      </td>
                      <td style="border-bottom: 1px solid #495057;text-align:center;">
                      </td>
                    </tr>
                  </t>
              </t>
          </table>
        </t>
      </t>
    </template>

    <record id="action_report_visitor_screening" model="ir.actions.report">
      <field name="name">Visitor Screening</field>
      <field name="print_report_name">"Visitor Screening"</field>
      <field name="report_type">qweb-html</field>
      <field name="model">x_scheduled_visit</field>
      <field name="binding_model_id" ref="model_x_scheduled_visit" />
      <field name="binding_type">report</field>
      <field name="report_name">visitation.report_visitor_screening</field>
      <field name="report_file">visitation.report_visitor_screening</field>
    </record>
    
  </data>
</odoo>
